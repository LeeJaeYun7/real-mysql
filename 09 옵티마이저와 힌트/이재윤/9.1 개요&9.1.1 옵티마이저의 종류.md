


```

Summary

1) 어떤 DBMS든지 쿼리의 실행 계획을 수립하는 옵티마이저는 가장 복잡한 부분으로 알려져 있으며, 옵티마이저가 만들어 내는 실행 계획을 이해하는 것 또한
   상당히 어려운 부분이다.
-> 하지만 실행 계획을 이해할 수 있어야만 실행 계획을 불합리한 부분을 찾아내고, 더 최적화된 방법으로 실행 계획을 수립하도록 유도할 수 있다.
-> 실행 계획을 살펴보기 전에 먼저 알고 있어야 할 몇 가지 사항을 알아보자.


2) 쿼리 실행 절차
- MySQL 서버에서 쿼리가 실행되는 과정은 크게 세 단계로 나눌 수 있다.
(1) 사용자로부터 요청된 SQL 문장을 잘개 쪼개서 MySQL 서버가 이해할 수 있는 수준으로 분리(파스 트리)한다.
(2) SQL의 파싱 정보(파스 트리)를 확인하면서 어떤 테이블부터 읽고 어떤 인덱스를 이용해 테이블을 읽을지 선택한다.
(3) 두 번째 단계에서 결정된 테이블의 읽기 순서나 선택된 인덱스를 이용해 스토리지 엔진으로부터 데이터를 가져온다.

- 첫 번째 단계를 SQL 파싱 이라고 하며, MySQL 서버의 SQL 파서라는 모듈로 처리한다
-> SQL 문장이 문법적으로 잘못됐따면 이 단계에서 걸러진다
-> 또한 이 단계에서 SQL 파스트리가 만들어진다
-> MySQL 서버는 SQL 문장 그 자체가 아니라 SQL 파스 트리를 이용해 쿼리를 실행한다.


- 두 번째 단계는 첫 번째 단계에서 만들어진 SQL 파스 트리를 참조하면서 다음과 같은 내용을 처리한다
(1) 불필요한 조건 제거 및 복잡한 연산의 단순화
(2) 여러 테이블의 조인이 있는 경우 어떤 순서로 테이블을 읽을지 결정
(3) 각 테이블에 사용된 조건과 인덱스 통계 정보를 이용해 사용할 인덱스를 결정
(4) 가져온 레코드들을 임시 테이블에 넣고 다시 한 번 가공해야 하는지 결정

- 물론 이 밖에도 수많은 처리를 하지만 대표적으로 이러한 작업을 들 수 있다.
-> 두 번째 단계는 최적화 및 실행 계획 수립 단계이며, MySQL 서버의 '옵티마이저'에서 처리한다.
-> 또한 두 번째 단계가 완료되면 쿼리의 실행 계획이 만들어진다.
-> 세 번째 단계는 수립된 실행 계획대로 스토리지 엔진에 레코드를 읽어오도록 요청하고, MySQL 엔진에서는 스토리지 엔진으로부터 받은 레코드를 조인하거나
   정렬하는 작업을 수행한다.
-> 첫 번쨰 단계와 두 번째 단계는 거의 MySQL 엔진에서 처리하며, 세 번째 단계는 MySQL 엔진과 스토리지 엔진이 동시에 참여해서 처리한다.


Insight
- MySQL 쿼리 실행 절차

Application
- MySQL 쿼리 실행 절차 분석하기 













```
