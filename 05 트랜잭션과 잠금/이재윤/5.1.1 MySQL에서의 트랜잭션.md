


```
Summary

- 트랜잭션은 꼭 여러 개의 변경 작업을 수행하는 쿼리가 조합됐을 때만 의미 있는 개념은 아니다.
-> 트랜잭션은 하나의 논리적인 작업 셋에 하나의 쿼리가 있든 두 개 이상의 쿼리가 있든 관계없이
   논리적인 작업 셋 자체가 100% 적용되거나(COMMIT을 실행했을 때),
   아무것도 적용되지 않아야(ROLLBACK 또는 트랜잭션은 ROLLBACK시키는 오류가 발생했을 때)함을 보장해주는 것이다.

- 간단한 예제로 트랜잭션 관점에서 InnoDB 테이블과 MyISAM 테이블의 차이를 살펴보자.

- 두 INSERT 문장 모두 프라이머리 키 중복 오류로 쿼리가 실패했다
-> 그런데 두 테이블의 레코드를 조회해보면 MyISAM 테이블에는 오류가 발생했음에도 '1'과 '2'는 INSERT된 상태로 남아 있는 것을 확인할 수 있다
-> 즉, MyISAM 테이블에 INSERT 문장이 실행되면서 차례대로 '1'과 '2'를 저장하고, 그 다음 '3'을 저장하려고 하는 순간
   중복 키 오류(이미 '3'이 있기 때문)가 발생한 것이다.
-> 하지만 MyISAM 테이블에서 실행되는 쿼리는 이미 INSERT된 '1'과 '2'를 그대로 두고 쿼리 실행을 종료해버린다.

- MEMORY 스토리지 엔진을 사용하는 테이블도 MYISAM 테이블과 동일하게 작동한다
-> 하지만 InnoDB는 쿼리 중 일부라도 오류가 발생하면 전체를 원 상태로 만든다는 트랜잭션의 원칙대로 INSERT 문장을 실행하기 전 상태로 그대로 복구했다.
-> MyISAM 테이블에서 발생하는 이러한 현상을 부분 업데이트(Partial Update)라고 표현하며, 이러한 부분 업데이트 현상은 테이블 데이터의 정합성을 맞추는데
  상당히 어려운 문제를 만들어 낸다.

- 어떤 사용자는 (특히 트랜잭션이 선택 사항인 MySQL의 경우) 트랜잭션을 상당히 골치 아픈 기능쯤으로 생각하지만,
  트랜잭션이란 그만큼 애플리케이션 개발에서 고민해야 할 문제를 줄여주는 아주 필수적인 DBMS의 기능이라는 점을 기억해야 한다.
-> 부분 업데이트 현상이 발생하면 실패한 쿼리로 인해 남은 레코드를 다시 삭제하는 재처리 작업이 필요할 수 있다
-> 실행하는 쿼리가 하나뿐이라면 재처리 작업은 간단할 것이다.
-> 하지만 2개 이상의 쿼리가 실행되는 경우라면 실패에 대한 재처리 작업은 다음 예제와 같이 상당한 고민거리가 될 것이다.

Insight
- 트랜잭션의 필요성과 중요성

Application
- 트랜잭션에 대해 In-depth 이해하기 



```

![image](https://github.com/LeeJaeYun7/real-mysql/assets/134198681/a701485e-d0a8-4312-8d48-5159cc66d513)
![image](https://github.com/LeeJaeYun7/real-mysql/assets/134198681/6485f603-8fc1-4f0c-9697-631072ab04b8)
