데이터베이스 쿼리의 성능을 언급하면 인덱스라는 개념을 빼놓을 수 없다. 그래서 MySQL에서 사용 가능한 인덱스의 종류와 특성을 알아보고자 한다.
이번 인덱스에서 자주 언급되는 랜덤 I/O, 순차 I/O 와 같은 디스크 읽기 방식을 먼저 간단히 알아보자.

# 1. 디스크 읽기 방식

CPU나 메모리와 같은 전기적 특성을 띤 장치는 짧은 시간동안 매우 빠른 속도로 발전했지만, 디스크 같은 기계식 장치의 성능은 상당히 제한적으로 발전했다.
최근에 하드 디스크보다 SSD 드라이브가 많이 활용되고 있지만, 여전히 데이터 저장 매체는 컴퓨터에서 가장 느린 부분이기도 하다.

그래서 데이터베이스 성능 튜닝은 **어떻게 디스크 I/O를 줄이느냐**가 관건일 때가 많다.

## HDD와 SSD

데이터베이스 서버에서는 디스크 장치가 병목이 되는 경우가 많다. 이러한 하드 디스크 드라이브(HDD)를 대체하기 위해 SSD가 많이 출시되고 있다.

### SSD

SSD는 기존 HDD에서 디스크 원반을 제거하고 플래시 메모리를 장착하여 빨리 데이터를 읽고 쓸 수 있다. 디스크 원반을 기계적으로 회전시킬 필요가 빠르게 읽을 수 있다.
DRAM보다 느리긴 하지만, HDD에 비해 500배 정도 빠르고, 디스크 드라이브보다 용량이 적어 요즘 대부분의 DBMS 서버에서 대부분 SSD를 채택하고 있다.

SSD의 장점으로는 HDD보다 랜덤 I/O가 훨씬 빠르다는 것이다. 순차 I/O 작업의 비중보다 랜덤 I/O를 통해 작은 데이터를 읽고 쓰는 작업이 대부분이기 때문에 SSD는 DBMS용 스토리지에 최적이라고 볼 수 있다.

SSD와 HDD에서 랜덤 I/O 성능을 벤치마크한 것이다. 트랜잭션 내용별로 수치는 많이 달라질 수 있으니 둘을 비교하는 용도로만 보길!

![스크린샷 2023-12-08 181805](https://github.com/LeeJaeYun7/real-mysql/assets/62706048/d683ebd0-0ec2-40ce-87ef-2c5b18f67eea)


## 랜덤 I/O, 순차 I/O

랜덤 I/O는 하드 디스크 드라이브의 플래터(원반)을 돌려서 읽을 데이터가 저장된 위치로 디스크 헤더를 이동시킨 다음에 데이터를 읽는 것을 말한다.
예를 들어, 순차 I/O는 3개의 페이지를 디스크에 기록하기 위해 1번의 시스템 콜을 요청한다. 즉, 디스크 헤드를 1번 움직인다는 뜻이다.
그리고 랜덤 I/O는 3개의 페이지를 디스크에 기록하기 위해 3번의 시스템 콜을 요청한다. 디스크 헤드를 3번 움직였다는거다.

디스크에 데이터를 읽고 쓰는 데 걸리는 시간은 디스크 헤더를 움직여서 읽고 쓸 위치로 옮기는 단계에서 결정된다.
따라서, 위의 경우에는 순차 I/O가 랜덤 I/O보다 3배정도 빠른 것이다. 그래서 여러 번 읽기 또는 쓰기를 요청하는 랜덤 I/O 작업이 부하가 훨씬 더 크다.
SSD에서는 디스크 원판을 가지지 않기 때문에 둘의 속도 차이가 없을 것이라 예측하지만, 여전히 랜덤 I/O가 순차 I/O보다 전체 스루풋이 떨어진다. 
